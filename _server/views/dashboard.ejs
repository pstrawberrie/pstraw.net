<%- include('partials/top') %>

<main>
  <div class="header">
    <h1>Dashboard</h1>
    <p>Welcome to the admin dashboard.</p>
  </div>

  <section class="section messages">
    <h2>Messages</h2>
    <div class="stats">
      <span><%= messages.length %> Messages</span>
    </div>
    <div class="grid-2">
      <% for(const [idx, message] of messages.entries()) { %>
        <div class="card message">
          <div class="top">
            <div class="date">
              <span>Date</span>
              <%= formatDate(message.createdAt) %>
            </div>
            <div class="name">
              <span>Name</span>
              <%= message.name || '(Not Provided)' %>
            </div>
            <div class="email">
              <span>Email</span>
              <%= message.email || '(Not Provided)' %>
            </div>
          </div>
          <div class="message">
            <span>Message</span>
            <p style="white-space: pre;"><%= message.message %></p>
          </div>
        </div>
      <% } %>
    </div>
  </section>

  <section class="section tmdb">
    <h2>TMDB</h2>
    <div class="stats">
      <span><%= movies.length %> Movies</span>
      <span><%= shows.length %> Shows</span>
    </div>
  </section>

  <section class="section notes">
    <h2>Notes</h2>
    <div class="stats">
      <span>5 Notes</span>
      <span>9 Tags</span>
    </div>
  </section>
</main>

<style>
  .section .stats {
    margin-bottom: 1.5rem;
  }
</style>

<%- include('partials/bottom') %>
